---
title: SQL-Sicherheitsrisikobewertung – Azure SQL-Datenbank | Microsoft-Dokumentation
description: Erfahren Sie, wie Sie die SQL-Sicherheitsrisikobewertung in SQL-Datenbank konfigurieren und die Bewertungsberichte interpretieren.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: ronitr
ms.author: ronitr
ms.reviewer: vanto, carlrab
manager: craigg
ms.date: 05/17/2018
ms.openlocfilehash: 6b0b613504ffc329af267fcaba13f1e27beee7b5
ms.sourcegitcommit: 51a1476c85ca518a6d8b4cc35aed7a76b33e130f
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/25/2018
ms.locfileid: "47164445"
---
# <a name="sql-vulnerability-assessment"></a>SQL-Sicherheitsrisikobewertung

Die SQL-Sicherheitsrisikobewertung ist ein einfach zu konfigurierender Dienst, mit dem potenzielle Schwachstellen in der Datenbank ermittelt, nachverfolgt und behoben werden können. Verwenden Sie diese, um Ihre Datenbanksicherheit proaktiv zu verbessern. 

Die Sicherheitsrisikobewertung ist Teil des Angebots [SQL Advanced Threat Protection (ATP)](sql-advanced-threat-protection.md). Dabei handelt es sich um ein vereinheitlichtes Paket für erweiterte SQL-Sicherheitsfunktionen. Der Zugriff auf die Sicherheitsrisikobewertung und ihre Verwaltung sind über das zentrale SQL ATP-Portal möglich.

## <a name="what-is-vulnerability-assessment"></a>Was ist eine Sicherheitsrisikobewertung?
Die SQL-Sicherheitsrisikobewertung ist ein Dienst, der Einblicke in Ihren Sicherheitsstatus bietet, umsetzbare Schritte zum Beheben von Sicherheitsproblemen enthält und Ihre Datenbanksicherheit verbessert. Dieser kann Ihnen bei Folgendem helfen:  
- Erfüllen der Konformitätsanforderungen, die die Berichte für die Datenbanküberprüfung erfordern  
- Erfüllen der Datenschutzstandards  
- Überwachen einer dynamischen Datenbankumgebung, bei der Änderungen schwer nachzuverfolgen sind.  

Die Sicherheitsrisikobewertung ist ein Überprüfungsdienst, der in den Azure SQL-Datenbankdienst integriert ist. Der Dienst verwendet eine Wissensdatenbank, die aus Regeln besteht, die Sicherheitsrisiken kennzeichnen und Abweichungen von bewährten Methoden hervorheben, z.B. Fehlkonfigurationen, übermäßige Berechtigungen und ungeschützte vertrauliche Daten. Die Regeln basieren auf bewährten Methoden von Microsoft und konzentrieren sich auf die Sicherheitsprobleme, die das größte Risiko für Ihre Datenbank und deren wertvolle Daten darstellt. Sie betreffen sowohl Probleme auf Datenbankebene als auch Sicherheitsprobleme auf Serverebene wie Server-Firewalleinstellungen und Berechtigungen auf Serverebene. Diese Regeln stellen darüber hinaus viele der Anforderung von Regulierungsbehörden dar, um deren Konformitätsstandards zu erfüllen.  

Die Ergebnisse der Überprüfung enthalten umsetzbare Schritte, um jedes Problem zu beheben und stellen gegebenenfalls benutzerdefinierte Wiederherstellungsskripts bereit. Ein Bewertungsbericht kann für Ihre Umgebung angepasst werden, indem eine akzeptable Baseline für Berechtigungskonfigurationen, Featurekonfigurationen und Datenbankeinstellungen festgelegt wird.   

## <a name="implementing-va"></a>Implementieren der Sicherheitsrisikobewertung  
Die folgenden Schritte implementieren die Sicherheitsrisikobewertung in SQL-Datenbank.  

## <a name="1-run-a-scan"></a>1. Ausführen eines Scans  
Aktivieren Sie die Sicherheitsrisikobewertung, indem Sie im Azure SQL-Datenbank-Bereich unter der Überschrift „Sicherheit“ zu **Advanced Threat Protection** navigieren. Aktivieren Sie Advanced Threat Protection durch Klicken, und klicken Sie dann auf die Karte **Sicherheitsrisikobewertung**. Dadurch wird automatisch die Karte „Einstellungen für Sicherheitsrisikobewertung“ geöffnet. 

Konfigurieren Sie zunächst ein Speicherkonto, in dem Ihre Überprüfungsergebnisse gespeichert werden. Weitere Informationen zu Speicherkonten finden Sie unter [Informationen zu Azure-Speicherkonten](../storage/common/storage-create-storage-account.md). Sobald der Speicher konfiguriert ist, klicken Sie auf **Überprüfen**, um Ihre Datenbank auf Sicherheitsrisiken zu überprüfen.
  
![Überprüfen einer Datenbank](./media/sql-vulnerability-assessment/pp_va_initialize.png)  
  > [!NOTE]   
  > Die Überprüfung ist einfach und sicher. Die Ausführung dauert einige Sekunden und ist schreibgeschützt. Es werden keine Änderungen an Ihrer Datenbank vorgenommen.  

## <a name="2-view-the-report"></a>2. Anzeigen des Berichts  
Wenn die Überprüfung abgeschlossen ist, wird Ihr Überprüfungsbericht automatisch im Azure-Portal angezeigt. Der Bericht bietet eine Übersicht über Ihren Sicherheitsstatus, wie viele Probleme gefunden wurden und deren jeweiligen Schweregrad. Die Ergebnisse schließen Warnungen zu Abweichungen von bewährten Methoden sowie eine Momentaufnahme Ihrer sicherheitsbezogenen Einstellungen ein, z.B. Datenbankprinzipale und Rollen mit ihren zugehörigen Berechtigungen. Der Überprüfungsbericht bietet außerdem eine Übersicht über erkannte sensible Daten in Ihrer Datenbank und Empfehlungen zur Klassifizierung dieser Daten mithilfe von [Data Discovery & Classification](sql-database-data-discovery-and-classification.md) (Datenermittlung und Klassifizierung). 
 
![Anzeigen des Berichts](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

## <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analysieren der Berichte und Beheben von Problemen  
Überprüfen Sie Ihre Ergebnisse, und ermitteln Sie, bei welchen Ergebnissen im Bericht es sich um tatsächliche Sicherheitsprobleme in Ihrer Umgebung handelt. Führen Sie einen Drilldown für jedes fehlerhafte Ergebnis aus, um die Auswirkung des Ergebnisses und die Gründe für die Fehler bei den Sicherheitsüberprüfungen nachvollziehen zu können. Verwenden Sie die umsetzbaren Wiederherstellungsinformationen, die vom Bericht bereitgestellt werden, um das Problem zu beheben.  

![Analysieren des Berichts](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)    

## <a name="4-set-your-baseline"></a>4. Festlegen Ihrer Baseline  
Wenn Sie Ihre Bewertungsergebnisse überprüfen, können Sie bestimmte Ergebnisse als akzeptable *Baseline* für Ihre Umgebung markieren. Die Baseline ist im Wesentlichen eine Einstellung, wie die Ergebnisse gemeldet werden. Ergebnisse, die mit der Baseline übereinstimmen, werden in nachfolgenden Überprüfungen als „akzeptiert“ angesehen. Sobald Sie den Sicherheitsstatus Ihrer Baseline festgelegt haben, berichtet die Sicherheitsrisikobewertung nur über Abweichungen von der Baseline, und Sie können sich auf die relevanten Probleme konzentrieren.  

![Festlegen Ihrer Baseline](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

## <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Ausführen eines neuen Scans, um Ihren benutzerdefinierten Nachverfolgungsbericht anzuzeigen  
Nachdem Sie die Einrichtung der **Baselines für Ihre Regeln** abgeschlossen haben, führen Sie eine neue Überprüfung aus, um den benutzerdefinierten Bericht anzuzeigen. Die Sicherheitsrisikobewertung meldet nun nur die Sicherheitsprobleme, die von Ihrem genehmigten Baselinestatus abweichen. 
 
![Anzeige des benutzerdefinierten Berichts](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

Die Sicherheitsrisikobewertung kann nun verwendet werden, um zu überwachen, dass Ihre Datenbank jederzeit über ein hohes Maß an Sicherheit verfügt und dass die Organisationsrichtlinien erfüllt werden. Wenn Konformitätsberichte erforderlich sind, können die Berichte der Sicherheitsrisikobewertung nützlich sein, um den Konformitätsvorgang zu erleichtern.  

## <a name="6-set-up-periodic-recurring-scans"></a>6. Einrichten von regelmäßig wiederkehrenden Überprüfungen
Navigieren Sie zu den Einstellungen der Sicherheitsrisikobewertung, um **Regelmäßig wiederkehrende Überprüfungen** zu aktivieren. Dadurch wird die Sicherheitsrisikobewertung dafür konfiguriert, automatisch einmal pro Woche eine Überprüfung der Datenbank auszuführen. Eine Zusammenfassung der Scanergebnisse wird an die angegebenen E-Mail-Adressen gesendet.

![Anzeige des benutzerdefinierten Berichts](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

## <a name="7---export-an-assessment-report"></a>7.   Exportieren eines Bewertungsberichts
Klicken Sie auf **Überprüfungsergebnisse exportieren**, um einen herunterladbaren Excel-Bericht der Überprüfungsergebnisse zu erstellen. Dieser Bericht enthält eine Registerkarte, die eine Zusammenfassung der Bewertung enthält, einschließlich aller fehlerhaften Überprüfungen. Er enthält auch eine Registerkarte **Ergebnisse** mit den vollständigen Ergebnissen der Überprüfung, einschließlich aller Überprüfungen, die ausgeführt wurden, und der jeweiligen Ergebnisdetails. 

## <a name="8---view-scan-history"></a>8.   Anzeigen des Überprüfungsverlaufs
Klicken Sie auf **Überprüfungsverlauf** im Bereich der Sicherheitsrisikobewertung, um einen Verlauf aller zuvor für diese Datenbank ausgeführten Überprüfungen anzuzeigen. Wählen Sie eine bestimmte Überprüfung in der Liste aus, um die ausführlichen Ergebnisse dieser Überprüfung anzuzeigen.

Die Sicherheitsrisikobewertung kann nun verwendet werden, um zu überwachen, dass Ihre Datenbank jederzeit über ein hohes Maß an Sicherheit verfügt und dass die Organisationsrichtlinien erfüllt werden. Wenn Konformitätsberichte erforderlich sind, können die Berichte der Sicherheitsrisikobewertung nützlich sein, um den Konformitätsvorgang zu erleichtern.

## <a name="manage-vulnerability-assessments-using-azure-powershell"></a>Verwalten der Sicherheitsrisikobewertungen mithilfe von Azure PowerShell

Sie können die Azure PowerShell-Cmdlets verwenden, um Ihre Sicherheitsrisikobewertungen programmgesteuert zu verwalten. Die unterstützten Cmdlets sind die folgenden:

* [Update-AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Update-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0): aktualisiert die Einstellungen für die Sicherheitsrisikobewertung einer Datenbank
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0): gibt die Einstellungen für die Sicherheitsrisikobewertung einer Datenbank zurück
* [Clear-AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Clear-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0): löscht die Einstellungen für die Sicherheitsrisikobewertung einer Datenbank
* [Set-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Set-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0): legt die Baseline für die Regel zur Sicherheitsrisikobewertung fest
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0): ruft die Baseline für die Regel zur Sicherheitsrisikobewertung für eine angegebene Regel ab
* [Clear-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Clear-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0): löscht die Baseline für die Regel zur Sicherheitsrisikobewertung Legen Sie zunächst die Baseline fest, bevor Sie das Cmdlet zum Löschen verwenden.
* [Start-AzureRmSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/azurerm.sql/Start-AzureRmSqlDatabaseVulnerabilityAssessmentScan?view=azurermps-6.6.0): löst den Start einer Sicherheitsrisikobewertungsüberprüfung aus
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentScanRecord?view=azurermps-6.6.0): ruft alle Überprüfungsdatensätze für die Sicherheitsrisikobewertung ab, die einer angegebenen Datenbank zugeordnet sind
* [Convert-AzureRmSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/azurerm.sql/Convert-AzureRmSqlDatabaseVulnerabilityAssessmentScan?view=azurermps-6.6.0): konvertiert die Überprüfungsergebnisse der Sicherheitsrisikobewertung in eine Excel-Datei


Ein Skriptbeispiel finden Sie im Blogbeitrag [Azure SQL Vulnerability Assessment PowerShell support (SQL-Sicherheitsrisikobewertung: Unterstützung für PowerShell)](https://blogs.msdn.microsoft.com/sqlsecurity/2018/08/02/azure-sql-vulnerability-assessment-now-with-powershell-support/).


## <a name="next-steps"></a>Nächste Schritte  

- Weitere Informationen zu [SQL Advanced Threat Protection](sql-advanced-threat-protection.md)
- Weitere Informationen zur [Datenermittlung und -klassifizierung](sql-database-data-discovery-and-classification.md)
