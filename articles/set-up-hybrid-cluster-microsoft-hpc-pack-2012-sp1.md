\<properties" pageTitle="Einrichten eines Hybrid-Rechenclusters mit Microsoft HPC Pack" metaKeywords="" description="Erfahren Sie, wie Sie mit Microsoft HPC Pack und Azure ein kleines, hybrides HPC-Cluster (High Performance Computing) einrichten." metaCanonical="" services="" documentationCenter="" title="Einrichten eines Hybridclusters mit Microsoft HPC Pack" authors="danlep" solutions="" manager="timlt" editor="mattshel" /\> \<p\>\<tags ms.service="cloud-services" ms.workload="big-compute" ms.tgt\_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="09/16/2014" ms.author="danlep" /\>\</p\> \<h1 id="set-up-a-hybrid-compute-cluster-with-microsoft-hpc-pack"\>Einrichten eines Hybrid-Rechenclusters mit Microsoft HPC Pack\</h1\> \<p\>Dieses Lernprogramm zeigt Ihnen, wie Sie mit Microsoft HPC Pack 2012 R2 und Azure ein kleines Hybrid-HPC-Cluster (High Performance Computing) einrichten. Das Cluster wird aus einem lokalen Hauptknoten (einem Computer mit dem Windows Server-Betriebssystem und HPC Pack) und einigen Serverknoten bestehen, die Sie bei Bedarf als Workerrollen-Instanzen in einem Azure-Clouddienst bereitstellen. Danach können Sie auf dem Hybrid-Cluster Rechenaufträge ausführen.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/hybrid\_cluster\_overview.png" alt="Hybrides HPC-Cluster" /\>\</p\> \<p\>Dieses Lernprogramm zeigt einen gelegentlich als Cloud-Bursting bezeichneten Ansatz, um mithilfe skalierbarer, bei Bedarf verfügbarer Serverressourcen in Azure rechenintensive Anwendungen auszuführen.\</p\> \<p\>In diesem Lernprogramm wird davon ausgegangen, dass Sie noch keine Erfahrung mit Serverclustern oder HPC Pack haben. Es soll Ihnen lediglich helfen, ein Hybrid-Rechencluster für Demonstrationszwecke schnell bereitzustellen. Welche Überlegungen und Schritte zur Bereitstellung eines größeren Hybrid-Clusters mit HPC-Pack in einer Produktionsumgebung anzustellen bzw. auszuführen sind, ist in der \<a href="http://go.microsoft.com/fwlink/p/?LinkID=200493"\>ausführlichen Anleitung\</a\> beschrieben.\</p\> \<blockquote\> \<p\>[WACOM.NOTE] Azure bietet für unterschiedliche Arbeitslasten Serverressourcen \<a href="http://go.microsoft.com/fwlink/p/?LinkId=389844"\>unterschiedlicher Größen\</a\> an. Die Instanzen A8 und A9 kombinieren beispielweise hohe Leistung und Zugang zu einem Anwendungsnetz mit niedrigen Latenzzeiten und hohem Durchsatz, was für bestimmte HPC-Anwendungen benötigt wird. Einzelheiten finden Sie unter \<a href="http://go.microsoft.com/fwlink/p/?Linkid=328042"\>Informationen zu den rechenintensiven A8- und A9-Instanzen\</a\>.\</p\> \</blockquote\> \<p\>In diesem Lernprogramm werden die grundlegenden Schritte erläutert:\</p\> \<ul\> \<li\>\<a href="\#BKMK\_Prereq"\>Voraussetzungen\</a\>\</li\> \<li\>\<a href="\#BKMK\_DeployHN"\>Installieren des HPC Pack auf dem Hauptknoten\</a\>\</li\> \<li\>\<a href="\#BKMK\_Prpare"\>Erstellen des Azure-Abonnements\</a\>\</li\> \<li\>\<a href="\#BKMK\_ConfigHN"\>Konfigurieren des Hauptknotens\</a\>\</li\> \<li\>\<a href="\#BKMK\_worker"\>Hinzufügen von Azure-Knoten zum Cluster\</a\>\</li\> \<li\>\<a href="\#BKMK\_start"\>Starten der Azure-Knoten\</a\>\</li\> \<li\>\<a href="\#BKMK\_RunCommand"\>Clusterweites Ausführen eines Befehls\</a\>\</li\> \<li\>\<a href="\#BKMK\_RunJob"\>Ausführen eines Testauftrags\</a\>\</li\> \<li\>\<a href="\#BKMK\_stop"\>Anhalten der Azure-Knoten\</a\>\</li\> \</ul\> \<h2 id="BKMK\_Prereq"\>Voraussetzungen\</h2\> \<blockquote\> \<p\>[WACOM.NOTE]Sie benötigen ein Azure-Konto, um dieses Lernprogramm durchführen zu können. Wenn Sie noch kein Konto haben, können Sie in nur wenigen Minuten ein kostenloses Testkonto erstellen. Einzelheiten finden Sie unter \<a href="http://www.windowsazure.com/de-de/develop/php/tutorials/create-a-windows-azure-account/"\>Erstellen eines Azure-Kontos\</a\>.\</p\> \</blockquote\> \<p\>Darüber hinaus benötigen Sie für dieses Lernprogramm Folgendes:\</p\> \<ul\> \<li\>\<p\>Einen lokalen Computer, auf dem eine Edition von Windows Server 2012 R2 oder Windows Server 2012 ausgeführt wird. Dieser Computer fungiert als der Hauptknoten des HPC-Clusters. Wenn Sie Windows Server noch nicht verwenden, können Sie eine \<a href="http://technet.microsoft.com/evalcenter/dn205286.aspx"\>Evaluierungsversion\</a\> herunterladen und installieren.\</p\> \<ul\> \<li\>\<p\>Der Computer muss in eine Active Directory-Domäne eingebunden werden.\</p\>\</li\> \<li\>\<p\>Vergewissern Sie sich, dass keine zusätzlichen Serverrollen oder Rollendienste installiert sind.\</p\>\</li\> \<li\>\<p\>Damit das HPC Pack unterstützt werden kann, muss das Betriebssystem in einer der folgenden Sprachen installiert werden: Englisch, Japanisch oder Chinesisch (vereinfacht).\</p\>\</li\> \<li\>\<p\>Stellen Sie sicher, dass wichtige und kritische Updates installiert wurden.\</p\>\</li\> \</ul\>\</li\> \<li\>\<p\>Installationsdateien für HPC Pack 2012 R2. Diese stehen kostenlos zur Verfügung. Das komplette Installationspaket müssen Sie \<a href="http://go.microsoft.com/fwlink/p/?linkid=389557"\>herunterladen\</a\> und die Dateien auf den Hauptknoten-Computer oder auf einen Speicherort im Netzwerk kopieren. Wählen Sie Installationsdateien in derselben Sprache aus wie für die Installation von Windows Server.\</p\>\</li\> \<li\>\<p\>Ein Domänenkonto mit lokalen Administratorrechten auf dem Hauptknoten\</p\>\</li\> \<li\>\<p\>TCP-Konnektivität an Port 443 vom Hauptknoten zu Azure\</p\>\</li\> \</ul\> \<h2 id="BKMK\_DeployHN"\>Installieren des HPC Pack auf dem Hauptknoten\</h2\> \<p\>Zuerst muss das Microsoft HPC Pack auf einem lokalen Computer mit Windows Server installiert werden, der als Hauptknoten im Cluster fungiert.\</p\> \<ol\> \<li\>\<p\>Melden Sie sich bei dem Hauptknoten mit einem Domänenkonto an, das über lokale Administratorrechte verfügt.\</p\>\</li\> \<li\>\<p\>Starten Sie den Installations-Assistenten von HPC Pack, indem Sie die in den HPC Pack-Installationsdateien enthaltene Datei Setup.exe ausführen.\</p\>\</li\> \<li\>\<p\>Klicken Sie auf dem Bildschirm \<strong\>HPC Pack 2012 R2 Setup\</strong\> auf \<strong\>New installation or add new features to an existing installation\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install\_hpc1.png" alt="HPC Pack 2012 Setup" /\>\</p\>\</li\> \<li\>\<p\>Klicken Sie auf der \<strong\>Seite mit dem Vertrag für die Benutzer von Microsoft Software\</strong\> auf \<strong\>Next\</strong\>.\</p\>\</li\> \<li\>\<p\>Klicken Sie auf der Seite \<strong\>Select Installation Type\</strong\> auf \<strong\>Create a new HPC cluster by creating a head node\</strong\> und dann auf \<strong\>Next\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install\_hpc2.png" alt="Installationstyp auswählen" /\>\</p\>\</li\> \<li\>\<p\>Der Installations-Assistent führt vor der Installation verschiedene Tests durch. Klicken Sie auf \<strong\>Next\</strong\> auf der Seite \<strong\>Installation Rules\</strong\>, wenn alle Tests erfolgreich durchgeführt wurden. Lesen Sie andernfalls die bereitgestellten Informationen, und nehmen Sie eventuell notwendige Änderungen in Ihrer Umgebung vor. Führen Sie dann die Tests nochmals aus, oder starten Sie gegebenenfalls den Installations-Assistenten erneut.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install\_hpc3.png" alt="Installationsregeln" /\>\</p\>\</li\> \<li\>\<p\>Stellen Sie sicher, dass auf der Seite \<strong\>HPC DB Configuration\</strong\> der \<strong\>Hauptknoten\</strong\> für alle HPC-Datenbanken ausgewählt ist, und klicken Sie dann auf \<strong\>Next\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install\_hpc4.png" alt="DB-Konfiguration" /\>\</p\>\</li\> \<li\>\<p\>Akzeptieren Sie auf den verbleibenden Seiten des Assistenten die Standardeinstellungen. Klicken Sie auf der Seite \<strong\>Install Required Components\</strong\> auf \<strong\>Install\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install\_hpc6.png" alt="Installieren" /\>\</p\>\</li\> \<li\>\<p\>Wenn die Installation abgeschlossen ist, deaktivieren Sie \<strong\>Start HPC Cluster Manager\</strong\>, und klicken Sie dann auf \<strong\>Finish\</strong\>. (Sie werden HPC Cluster Manager in einem späteren Schritt starten, um die Konfiguration des Hauptknotens abzuschließen.)\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install\_hpc7.png" alt="Fertig stellen" /\>\</p\>\</li\> \</ol\> \<h2 id="BKMK\_Prepare"\>Erstellen des Azure-Abonnements\</h2\> \<p\>Führen Sie im \<a href="https://manage.windowsazure.com"\>Verwaltungsportal\</a\> die folgenden Schritte für Ihr Azure-Abonnement aus. Diese sind erforderlich, damit Sie später Azure-Knoten von dem lokalen Hauptknoten aus bereitstellen können.\</p\> \<ul\> \<li\>\<p\>Hochladen eines Verwaltungszertifikats (wird für sichere Verbindungen zwischen dem Hauptknoten und den Azure-Diensten benötigt)\</p\>\</li\> \<li\>\<p\>Erstellen eines Azure-Clouddiensts, in dem Azure-Knoten (Workerrollen-Instanzen) ausgeführt werden\</p\>\</li\> \<li\>\<p\>Erstellen eines Azure-Speicherkontos\</p\> \<blockquote\> \<p\>[WACOM.NOTE]Notieren Sie auch Ihre Azure-Abonnement-ID, die Sie später noch brauchen werden. Sie finden sie in den Azure-\<a href="[https://account.windowsazure.com/Subscriptions"\>Kontoinformationen\</a\>.\</p\> \</blockquote\>\</li\> \</ul\> \<h3\>Hochladen des Standard-Verwaltungszertifikats\</h3\> \<p\>HPC Pack installiert im Hauptknoten ein selbstsigniertes Zertifikat namens "Default Microsoft HPC Azure Management", das Sie als Azure-Verwaltungszertifikat hochladen können. Dieses Zertifikat wird für Testzwecke und Machbarkeitsstudien bereitgestellt.\</p\> \<ol\> \<li\>\<p\>Melden Sie sich auf dem Hauptknoten-Computer beim \<a href="https://manage.windowsazure.com"\>Verwaltungsportal\</a\> an.\</p\>\</li\> \<li\>\<p\>Klicken Sie auf \<strong\>Einstellungen\</strong\> und dann auf \<strong\>Verwaltungszertifikate\</strong\>.\</p\>\</li\> \<li\>\<p\>Klicken Sie in der Befehlsleiste auf \<strong\>Hochladen\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/upload\_cert1.png" alt="Zertifikateinstellungen" /\>\</p\>\</li\> \<li\>\<p\>Suchen Sie im Hauptknoten die Datei C:\\Program Files\\Microsoft HPC Pack 2012\\Bin\\hpccert.cer. Klicken Sie dann auf die Schaltfläche \<strong\>Prüfen\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install\_hpc10.png" alt="Zertifikat hochladen" /\>\</p\>\</li\> \</ol\> \<p\>In der Liste der Verwaltungszertifikate sehen Sie \<strong\>Default HPC Azure Management\</strong\>.\</p\> \<h3\>Erstellen eines Azure-Clouddiensts\</h3\> \<blockquote\> \<p\>[WACOM.NOTE]Erstellen Sie den Cloud-Dienst und das Speicherkonto in derselben geografischen Region, um eine optimale Leistung zu erreichen.\</p\> \</blockquote\> \<ol\> \<li\>\<p\>Klicken Sie im Verwaltungsportal in der Befehlsleiste auf \<strong\>Neu\</strong\>.\</p\>\</li\> \<li\>\<p\>Klicken Sie auf \<strong\>Server\</strong\>, dann auf \<strong\>Cloud-Dienst\</strong\> und abschließend auf \<strong\>Schnellerfassung\</strong\>.\</p\>\</li\> \<li\>\<p\>Geben Sie eine URL für den Clouddienst ein, und klicken Sie dann auf \<strong\>Cloud-Dienst erstellen\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/createservice1.png" alt="Dienst erstellen" /\>\</p\>\</li\> \</ol\> \<h3\>Erstellen eines Azure-Speicherkontos\</h3\> \<ol\> \<li\>\<p\>Klicken Sie im Verwaltungsportal in der Befehlsleiste auf \<strong\>Neu\</strong\>.\</p\>\</li\> \<li\>\<p\>Klicken Sie auf \<strong\>Data Services\</strong\>, klicken Sie auf \<strong\>Storage\</strong\> und abschließend auf \<strong\>Schnellerfassung\</strong\>.\</p\>\</li\> \<li\>\<p\>Geben Sie eine URL für das Konto ein, und klicken Sie dann auf \<strong\>Speicherkonto erstellen\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/createstorage1.png" alt="Speicher erstellen" /\>\</p\>\</li\> \</ol\> \<h2 id="BKMK\_ConfigHN"\>Konfigurieren des Hauptknotens\</h2\> \<p\>Bevor Sie mit HPC Cluster Manager Azure-Knoten bereitstellen und Aufträge übermitteln können, müssen noch einige Schritte zur Konfiguration des Clusters ausgeführt werden.\</p\> \<ol\> \<li\>\<p\>Starten Sie HPC Cluster Manager auf dem Hauptknoten. Wenn das Dialogfeld \<strong\>Select Head Node\</strong\> angezeigt wird, klicken Sie auf \<strong\>Local Computer\</strong\>. Die \<strong\>Deployment To-do List\</strong\> wird angezeigt.\</p\>\</li\> \<li\>\<p\>Klicken Sie unter \<strong\>Required deployment tasks\</strong\> auf \<strong\>Configure your network\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config\_hpc2.png" alt="Netzwerk konfigurieren" /\>\</p\>\</li\> \<li\>\<p\>Wählen Sie im Network Configuration Wizard \<strong\>All nodes only on an enterprise network\</strong\> (Topologie 5) aus.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config\_hpc3.png" alt="Topologie 5" /\>\</p\> \<blockquote\> \<p\>[WACOM.NOTE]Dies ist die einfachste Konfiguration für Demonstrationszwecke, da der Hauptknoten für die Verbindung zum Active Directory und zum Internet nur einen einzelnen Netzwerkadapter braucht. Clusterkonfigurationen, die mehrere Netzwerke benötigen, werden in diesem Lernprogramm nicht behandelt.\</p\> \</blockquote\>\</li\> \<li\>\<p\>Klicken Sie auf \<strong\>Next\</strong\>, und akzeptieren Sie auf den verbleibenden Seiten des Assistenten die Standardwerte. Klicken Sie dann auf der Registerkarte \<strong\>Review\</strong\> auf \<strong\>Configure\</strong\>, um die Netzwerkkonfiguration abzuschließen.\</p\>\</li\> \<li\>\<p\>Klicken Sie in der \<strong\>Deployment To-do List\</strong\> auf \<strong\>Provide installation credentials\</strong\>.\</p\>\</li\> \<li\>\<p\>Geben Sie in das Dialogfeld \<strong\>Installation Credentials\</strong\> die Anmeldedaten des Domänenkontos ein, das Sie für die Installation von HPC Pack verwendet haben. Klicken Sie anschließend auf \<strong\>OK\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config\_hpc6.png" alt="Anmeldeinformationen für die Installation" /\>\</p\> \<blockquote\> \<p\>[WACOM.NOTE]HPC Pack-Dienste verwenden Installations-Anmeldeinformationen nur für die Bereitstellung lokaler Serverknoten.\</p\> \</blockquote\>\</li\> \<li\>\<p\>Klicken Sie in der \<strong\>Deployment To-do List\</strong\> auf \<strong\>Configure the naming of new nodes\</strong\>.\</p\>\</li\> \<li\>\<p\>Akzeptieren Sie im Dialogfeld \<strong\>Specify Node Naming Series\</strong\> die Standard-Knotenbenennungsreihe, und klicken Sie auf \<strong\>OK\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config\_hpc8.png" alt="Knotenbenennung" /\>\</p\> \<blockquote\> \<p\>[WACOM.NOTE]Die Benennungsreihe erzeugt nur Namen für Serverknoten, die in die Domäne eingebunden sind. Azure-Knoten werden automatisch benannt.\</p\> \</blockquote\>\</li\> \<li\>\<p\>Klicken Sie in der \<strong\>Deployment To-do List\</strong\> auf \<strong\>Create a node template\</strong\>. Sie verwenden die Knotenvorlage, um Azure-Knoten zum Cluster hinzuzufügen.\</p\>\</li\> \<li\>\<p\>Führen Sie im Create Node Template Wizard folgende Schritte aus:\</p\> \<p\>a. Klicken Sie auf der Seite \<strong\>Choose Node Template Type\</strong\> auf \<strong\>Azure node template\</strong\> und dann auf \<strong\>Next\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config\_hpc10.png" alt="Knotenvorlage" /\>\</p\> \<p\>b. Klicken Sie auf \<strong\>Next\</strong\>, um den Standard-Vorlagennamen zu akzeptieren.\</p\> \<p\>c. Geben Sie auf der Seite \<strong\>Provide Subscription Information\</strong\> Ihre Azure-Abonnement-ID ein (zu finden in den Azure-\<a href="[https://account.windowsazure.com/Subscriptions"\>Kontoinformationen\</a\>). Klicken Sie dann neben \<strong\>Verwaltungszertifikat\</strong\> auf \<strong\>Browse\</strong\>, und wählen Sie \<strong\>Default HPC Azure Management.\</strong\> Klicken Sie anschließend auf \<strong\>Next\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config\_hpc12.png" alt="Knotenvorlage" /\>\</p\> \<p\>d. Wählen Sie auf der Seite \<strong\>Provide Service Information\</strong\> den Clouddienst und das Speicherkonto aus, das Sie in einem früheren Schritt erstellt haben. Klicken Sie anschließend auf \<strong\>Next\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config\_hpc13.png" alt="Knotenvorlage" /\>\</p\> \<p\>e. Klicken Sie auf \<strong\>Next\</strong\>, und akzeptieren Sie auf den verbleibenden Seiten des Assistenten die Standardwerte. Klicken Sie dann auf der Registerkarte \<strong\>Review\</strong\> auf \<strong\>Create\</strong\>, um die Knotenvorlage zu erstellen.\</p\> \<blockquote\> \<p\>[WACOM.NOTE]Standardmäßig enthält die Azure-Knotenvorlage Einstellungen, mit denen Sie Knoten manuell starten (bereitstellen) und stoppen können. Sie können auch einen Zeitplan für das automatische Starten und Stoppen der Azure-Knoten konfigurieren.\</p\> \</blockquote\>\</li\> \</ol\> \<h2 id="\#BKMK\_worker"\>Hinzufügen von Azure-Knoten zum Cluster\</h2\> \<p\>Jetzt fügen Sie mithilfe der Knotenvorlage Azure-Knoten zum Cluster hinzu. Wenn Knoten zu dem Cluster hinzugefügt werden, werden deren Konfigurationsinformationen gespeichert, so dass Sie sie jederzeit als Rolleninstanzen im Clouddienst starten (bereitstellen) können. Azure-Knoten werden Ihrem Abonnement erst belastet, wenn die Rolleninstanzen im Clouddienst ausgeführt werden.\</p\> \<p\>In diesem Lernprogramm fügen Sie zwei kleine Knoten hinzu.\</p\> \<ol\> \<li\>\<p\>Klicken Sie im HPC Cluster Manager unter \<strong\>Node Management\</strong\> im Bereich \<strong\>Actions\</strong\> auf \<strong\>Add Node\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add\_node1.png" alt="Knoten hinzufügen" /\>\</p\>\</li\> \<li\>\<p\>Klicken Sie im Assistent zum Hinzufügen eines Knotens auf der Seite \<strong\>Bereitstellungsmethode auswählen\</strong\> auf \<strong\>Add Azure nodes\</strong\> und dann auf \<strong\>Weiter\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add\_node1\_1.png" alt="Azure-Knoten hinzufügen" /\>\</p\>\</li\> \<li\>\<p\>Wählen Sie auf der Seite \<strong\>Specify New Nodes\</strong\> die zuvor erstellte Azure-Knotenvorlage aus (Standardname \<strong\>Default AzureNode Template\</strong\>). Geben Sie dann \<strong\>2\</strong\> Knoten der Größe \<strong\>Small\</strong\> an, und klicken Sie dann auf \<strong\>Next\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add\_node2.png" alt="Knoten angeben" /\>\</p\> \<p\>Einzelheiten zu den verfügbaren Größen virtueller Computer finden Sie unter \<a href="http://msdn.microsoft.com/library/windowsazure/dn197896.aspx"\>Größen virtueller Computer und Cloud-Dienste für Azure\</a\>.\</p\>\</li\> \<li\>\<p\>Klicken Sie auf der Seite \<strong\>Completing the Add Node Wizard\</strong\> auf \<strong\>Fertig stellen\</strong\>.\</p\> \<p\>Daraufhin werden im HPC Cluster Manager zwei Azure-Knoten namens \<strong\>AzureCN-0001\</strong\> und \<strong\>AzureCN-0002\</strong\> angezeigt. In beiden Fällen lautet der Status \<strong\>Nicht bereitgestellt\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add\_node3.png" alt="Hinzugefügte Knoten" /\>\</p\>\</li\> \</ol\> \<h2 id="BKMK\_Start"\>Starten der Azure-Knoten\</h2\> \<p\>Wenn Sie die Clusterressourcen in Azure verwenden möchten, veranlassen Sie den Start (die Bereitstellung) der Azure-Knoten mit HPC Cluster Manager, und schalten Sie sie online.\</p\> \<ol\> \<li\>\<p\>Klicken Sie im HPC Cluster Manager unter \<strong\>Node Management\</strong\> auf einen oder beide Knoten, und klicken Sie dann im Bereich \<strong\>Actions\</strong\> auf \<strong\>Start\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add\_node4.png" alt="Knoten starten" /\>\</p\>\</li\> \<li\>\<p\>Klicken Sie im Dialogfeld \<strong\>Start Azure Nodes\</strong\> auf \<strong\>Start\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add\_node5.png" alt="Knoten starten" /\>\</p\> \<p\>Die Knoten wechseln in den Status \<strong\>Provisioning\</strong\>. Im Bereitstellungsprotokoll können Sie den Fortschritt der Bereitstellung verfolgen.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add\_node6.png" alt="Knoten bereitstellen" /\>\</p\>\</li\> \<li\>\<p\>Nach einigen Minuten ist die Bereitstellung der Azure-Knoten beendet, und die Knoten befinden sich im Status \<strong\>Offline\</strong\>. In diesem Status sind die Rolleninstanzen zwar aktiv, nehmen jedoch noch keine Clusteraufträge an.\</p\>\</li\> \<li\>\<p\>Um zu überprüfen, ob die Rolleninstanzen ausgeführt werden, klicken Sie im \<a href="https://manage.windowsazure.com"\>Verwaltungsportal\</a\> auf \<strong\>Cloud-Dienste\</strong\>, klicken Sie auf den Namen des Clouddiensts, und klicken Sie dann auf \<strong\>Instanzen\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/view\_instances1.png" alt="Instanzen ausführen" /\>\</p\> \<p\>Sie sehen, dass in dem Dienst zwei Workerrolleninstanzen ausgeführt werden. HPC Pack stellt außerdem automatisch zwei \<strong\>HpcProxy\</strong\>-Instanzen (mittlere Größe) bereit, die für die Kommunikation zwischen dem Hauptknoten und Azure zuständig sind.\</p\>\</li\> \<li\>\<p\>Um nun die Azure-Knoten online zu schalten und Clusteraufträge ausführen zu können, wählen Sie die Knoten aus, klicken Sie mit der rechten Maustaste, und klicken Sie dann auf \<strong\>Online schalten\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add\_node7.png" alt="Offline-Knoten" /\>\</p\> \<p\>HPC Cluster Manager zeigt an, dass sich die Knoten im Status \<strong\>Online\</strong\> befinden.\</p\>\</li\> \</ol\> \<h2 id="BKMK\_RunCommand"\>Clusterweites Ausführen eines Befehls\</h2\> \<p\>Mit dem HPC Pack-Befehl \<strong\>clusrun\</strong\> können Sie einen Befehl oder eine Anwendung auf einem oder mehreren Clusterknoten ausführen. Rufen Sie hier in einem einfachen Beispiel mit \<strong\>clusrun\</strong\> die IP-Konfiguration der Azure-Knoten ab.\</p\> \<ol\> \<li\>\<p\>Öffnen Sie auf dem Hauptknoten eine Eingabeaufforderung.\</p\>\</li\> \<li\>\<p\>Geben Sie den folgenden Befehl ein:\</p\> \<p\>\<code data-inline="1"\>clusrun /nodes:azurecn\* ipconfig\</code\>\</p\>\</li\> \<li\>\<p\>Eine Ausgabe ähnlich der folgenden wird angezeigt.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/clusrun1.png" alt="Clusrun" /\>\</p\>\</li\> \</ol\> \<h2 id="BKMK\_RunJob"\>Ausführen eines Testauftrags\</h2\> \<p\>Sie können einen Testauftrag übermitteln, der auf dem Hybrid-Cluster ausgeführt wird. Dieses Beispiel ist ein einfacher "Parameter-Sweep"-Auftrag (eine Art in sich paralleler Rechenvorgang), der durch die Ausführung von Unteraufgaben mit dem Befehl \<strong\>set /a\</strong\> eine Ganzzahl zu sich selbst hinzufügt. Alle Knoten des Clusters wirken an der Ausführung der Unteraufgaben für Ganzzahlen von 1 bis 100 mit.\</p\> \<ol\> \<li\>\<p\>Klicken Sie im HPC Cluster Manager unter \<strong\>Job Management\</strong\> im Bereich \<strong\>Actions\</strong\> auf \<strong\>New Parametric Sweep Job\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/test\_job1.png" alt="Neuer Auftrag" /\>\</p\>\</li\> \<li\>\<p\>Geben Sie im Dialogfeld \<strong\>New Parametric Sweep Job\</strong\> in der \<strong\>Befehlszeile\</strong\> Folgendes ein: \<code data-inline="1"\>set /a \*+\*\</code\>. (Überschreiben Sie die angezeigte Standard-Befehlszeile.) Belassen Sie bei den übrigen Einstellungen die Standardwerte, und klicken Sie dann auf \<strong\>Submit\</strong\>, um den Auftrag zu übermitteln.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/param\_sweep1.png" alt="Parameter-Sweep" /\>\</p\>\</li\> \<li\>\<p\>Wenn der Auftrag ausgeführt worden ist, doppelklicken Sie auf den Auftrag \<strong\>My Sweep Task\</strong\>.\</p\>\</li\> \<li\>\<p\>Klicken Sie auf \<strong\>View Tasks\</strong\> und dann auf eine Unteraufgabe, um die berechnete Ausgabe dieser Unteraufgabe anzuzeigen.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/view\_job361.png" alt="Ergebnisse der Aufgabe" /\>\</p\>\</li\> \<li\>\<p\>Wenn Sie wissen möchten, welcher Knoten die Berechnung für diese Unteraufgabe ausgeführt hat, klicken Sie auf \<strong\>Allocated Nodes\</strong\>. (Möglicherweise zeigt Ihr Cluster einen anderen Knotennamen an.)\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/view\_job362.png" alt="Ergebnisse der Aufgabe" /\>\</p\>\</li\> \</ol\> \<h2 id="BKMK\_stop"\>Anhalten der Azure-Knoten\</h2\> \<p\>Nachdem Sie das Cluster ausprobiert haben, können Sie mit HPC Cluster Manager die Azure-Knoten anhalten, um unnötige Belastungen Ihres Kontos zu vermeiden. Dabei wird der Clouddienst angehalten, und die Azure-Rolleninstanzen werden entfernt.\</p\> \<ol\> \<li\>\<p\>Wählen Sie im HPC Cluster Manager unter \<strong\>Node Management\</strong\> beide Azure-Knoten aus. Klicken Sie anschließend im Bereich \<strong\>Actions\</strong\> auf \<strong\>Stop\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/stop\_node1.png" alt="Knoten anhalten" /\>\</p\>\</li\> \<li\>\<p\>Klicken Sie im Dialogfeld \<strong\>Stop Azure Nodes\</strong\> auf \<strong\>Stop\</strong\>.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/stop\_node2.png" alt="Knoten anhalten" /\>\</p\>\</li\> \<li\>\<p\>Die Knoten wechseln in den Status \<strong\>Stopping\</strong\>. Nach einigen Minuten zeigt HPC Cluster Manager an, dass die Knoten \<strong\>Nicht bereitgestellt\</strong\> sind.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/stop\_node4.png" alt="Nicht bereitgestellte Knoten" /\>\</p\>\</li\> \<li\>\<p\>Um zu überprüfen, ob die Rolleninstanzen nicht mehr in Azure ausgeführt werden, klicken Sie im \<a href="https://manage.windowsazure.com"\>Verwaltungsportal\</a\> auf \<strong\>Cloud-Dienste\</strong\>, klicken Sie auf den Namen des Clouddiensts, und klicken Sie dann auf \<strong\>Instanzen\</strong\>. In der Produktionsumgebung werden keine Instanzen mehr bereitgestellt.\</p\> \<p\>\<img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/view\_instances2.png" alt="Keine Instanzen" /\>\</p\> \<p\>Damit schließt dieses Lernprogramm.\</p\>\</li\> \</ol\> \<h2 id=""\>Zugehörige Ressourcen\</h2\> \<ul\> \<li\>\<a href="http://go.microsoft.com/fwlink/p/?LinkID=263697"\>HPC Pack 2012 R2 und HPC Pack 2012\</a\>\</li\> \<li\>\<a href="http://go.microsoft.com/fwlink/p/?LinkID=200493"\>Zugriff auf Azure mit Microsoft HPC Pack\</a\>\</li\> \<li\>\<a href="http://go.microsoft.com/fwlink/p/?LinkId=325317"\>Bereitstellen von Anwendungen auf Azure-Knoten\</a\>\</li\> \<li\>\<a href="http://go.microsoft.com/fwlink/p/?linkid=330375"\>Microsoft HPC Pack in Azure-VMs\</a\>\</li\> \</ul\>
